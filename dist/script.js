"use strict";var clearBtn=document.getElementById("clearBtn"),amountInput=document.getElementById("amountValue"),termInput=document.getElementById("termValue"),rateInput=document.getElementById("rateValue"),form=document.getElementById("typeForm"),submitBtn=document.getElementById("calculateBtn"),errorDiv=document.querySelectorAll(".mortgage__div"),errorIcon=document.querySelectorAll(".mortgage__icon"),errorMessage=document.querySelectorAll(".mortgage__error"),empty=document.querySelector(".empty"),complete=document.querySelector(".complete"),repayment=document.getElementById("repayment"),interest=document.getElementById("interest"),payments=document.querySelector(".complete__amount"),totalAmount=document.querySelector(".complete__totalAmount"),comma=new Intl.NumberFormat("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2}),submit=[!1,!1,!1,!1];function showError(e){3===e||(errorIcon[e].style.backgroundColor="var(--red)",errorIcon[e].style.color="var(--white)",errorDiv[e].style.border="2px solid var(--red)"),errorMessage[e].style.display="block"}function hideError(e){3===e||(errorIcon[e].style.backgroundColor="var(--background)",errorIcon[e].style.color="var(--text-label)",errorDiv[e].style.border="1px solid var(--clearBtn)"),errorMessage[e].style.display="none"}function validateInput(e,t){/^(?!0*(\.0+)?$)\d+(\.\d+)?$/.test(e)&&e?(hideError(t),submit[t]=!0):(showError(t),submit[t]=!1)}function validateType(){var e,t=null===(e=document.querySelector("input[name=type]:checked"))||void 0===e?void 0:e.value;return"1"===t||"2"===t?(hideError(3),submit[3]=!0,t):(showError(3),submit[3]=!1,null)}function repaymentCalculator(e,t,n){var r=n/12/100,o=12*t,a=e*(r*Math.pow(1+r,o))/(Math.pow(1+r,o)-1),l=a*o,u=l-e;payments.textContent="£".concat(comma.format(a)),totalAmount.textContent="£".concat(comma.format(l)),interest.textContent="£".concat(comma.format(u))}clearBtn.addEventListener("click",(function(){amountInput.value="",termInput.value="",rateInput.value="",form.reset(),empty.style.display="flex",complete.style.display="none";for(var e=0;e<=3;e++)hideError(e)})),amountInput.addEventListener("input",(function(){validateInput(amountInput.value,0)})),termInput.addEventListener("input",(function(){validateInput(termInput.value,1)})),rateInput.addEventListener("input",(function(){validateInput(rateInput.value,2)})),form.addEventListener("change",(function(){validateType()})),submitBtn.addEventListener("click",(function(){validateInput(amountInput.value,0),validateInput(termInput.value,1),validateInput(rateInput.value,2);var e=validateType();console.log(e),submit.includes(!1)||(empty.style.display="none",complete.style.display="flex",repaymentCalculator(amountInput.valueAsNumber,termInput.valueAsNumber,rateInput.valueAsNumber),"1"===e?(repayment.style.display="block",interest.style.display="none"):"2"===e&&(repayment.style.display="none",interest.style.display="block"))}));//# sourceMappingURL=script.js.map
